services:
  - type: web
    name: planetary-ai-rag-demo
    env: python
    plan: free
    buildCommand: |
      pip install -r requirements.txt
      mkdir -p models
      curl -L -o models/llama-3.1-3b-instruct-q4_k_m.gguf https://huggingface.co/NousResearch/Meta-Llama-3.1-3B-Instruct-GGUF/resolve/main/llama-3.1-3b-instruct-q4_k_m.gguf
    startCommand: uvicorn app:app --host 0.0.0.0 --port 7860